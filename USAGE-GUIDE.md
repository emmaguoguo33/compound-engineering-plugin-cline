# 📖 复利插件使用手册

> 完整的命令参考和使用指南

---

## 目录

1. [快速入门](#快速入门)
2. [每日工作流](#每日工作流)
3. [场景化命令](#场景化命令)
4. [核心工作流命令](#核心工作流命令)
5. [自然语言触发](#自然语言触发)
6. [最佳实践](#最佳实践)

---

## 快速入门

### 30秒上手

```
1. 每天开始工作时说："开始工作吧"
2. 遇到问题直接描述，AI会自动处理
3. 下班前说："收工了"
```

就这么简单！复利插件会自动：
- 📋 读取待办任务
- 💾 增量提交代码
- 📝 记录学习经验
- 🔍 智能识别值得记录的知识点

---

## 每日工作流

### `/开工` - 每日开始

**触发方式：**
```
/开工
/开工 [今日重点]
"开始工作吧"
"Let's go"
```

**执行流程：**
```
1. 同步最新代码 (git pull)
2. 创建今日工作分支 (work/YYYY-MM-DD)
3. 读取计划文件中的待办任务
4. 显示任务列表供确认
5. 开始增量执行任务
```

**示例：**
```
用户: 开始工作吧

AI: 🌅 开工！正在初始化工作环境...

📋 今日待办任务：
1. [P0] 实现用户登录API
2. [P1] 修复导航栏样式
3. [P2] 更新README文档

确认开始执行？(y/n)
```

---

### `/收工` - 日末收尾

**触发方式：**
```
/收工
/收工 [今日备注]
"下班了"
"收工了"
"今天就到这里"
```

**执行流程：**
```
1. 保存未提交的更改
2. 推送代码到远程
3. 生成今日工作总结
4. 更新Memory Bank
5. 智能复利回顾（确认待记录的经验）
```

**输出示例：**
```
🌙 收工！今日工作已保存

📊 今日统计
━━━━━━━━━━━
✅ 完成任务: 3 个
📝 提交次数: 8
➕ 新增代码: +342 行
━━━━━━━━━━━

💎 今日自动记录的复利: 2 条
🤔 待确认的复利候选: 1 条

祝您晚安！🌟
```

---

### `/暂停` - 保存进度

**触发方式：**
```
/暂停
"有个紧急任务"
"需要先处理别的"
```

**用途：**
- 临时切换到其他任务
- 处理紧急事项
- 中途需要休息

**执行流程：**
```
1. 保存当前工作上下文
2. 提交 WIP (Work In Progress)
3. 记录当前进度到 .work-session.yaml
```

---

### `/恢复` - 继续工作

**触发方式：**
```
/恢复
"继续之前的任务"
"恢复工作"
```

**执行流程：**
```
1. 读取 .work-session.yaml
2. 显示暂停时的上下文
3. 恢复到暂停点继续
```

---

## 场景化命令

### `/修复bug` - Bug修复流程

**触发方式：**
```
/修复bug [bug描述]
"修一个bug"
"这里有个bug"
```

**标准流程：**
```
复现 → 定位 → 修复 → 测试 → 记录
```

**示例：**
```
用户: /修复bug 用户登录时报500错误

AI: 🐛 进入Bug修复模式

1️⃣ 复现问题
   → 尝试登录...
   → 确认：500 Internal Server Error

2️⃣ 定位原因
   → 检查日志...
   → 发现：数据库连接超时

3️⃣ 修复
   → 增加连接池配置
   
4️⃣ 验证
   → 测试登录...通过！

5️⃣ 记录 (复利积累)
   → 已记录到 docs/solutions/
```

---

### `/变更` - 需求变更处理

**触发方式：**
```
/变更 [变更描述]
"需求变了"
"功能改了"
"老板说要改"
```

**变更分类：**
| 规模 | 工时影响 | 处理方式 |
|------|---------|---------|
| 小 | ≤ 2小时 | 直接调整 |
| 中 | 2-8小时 | 更新计划 |
| 大 | > 8小时 | 暂停→重新规划 |

**示例：**
```
用户: 需求变了，登录改成邮箱验证

AI: 🔄 收到需求变更

📊 变更影响评估
━━━━━━━━━━━━━━
影响范围: 中等
预计额外工时: +2小时
风险等级: 低
━━━━━━━━━━━━━━

执行:
1. ✅ 更新计划文件
2. ✅ 调整任务列表
3. ✅ 记录变更原因

继续执行调整后的任务...
```

---

### `/记录` - 快速知识积累

**触发方式：**
```
/记录 [知识片段]
"记一下"
"学到一个知识点"
```

**用途：**
- 记录解决方案
- 保存有用的代码片段
- 记录踩坑经验

**示例：**
```
用户: /记录 解决npm peer dependency冲突的方法是使用--legacy-peer-deps

AI: 📝 知识已记录

类别: 构建工具
标签: npm, dependency
保存到: docs/solutions/build-errors/npm-peer-deps.md
```

---

## 核心工作流命令

### `/workflows:plan` - 功能规划

将功能想法转化为详细实施计划。

```
/workflows:plan 实现用户认证模块
```

**输出：**
- 拆分的子任务列表
- 技术方案选型
- 风险评估
- 时间估算

---

### `/workflows:work` - 执行计划

执行计划中的任务。

```
/workflows:work
```

**特点：**
- 增量提交
- 持续测试
- 自动记录

---

### `/workflows:review` - 代码审查

多代理并行审查代码。

```
/workflows:review
```

**审查维度：**
- 🔒 安全性 (security-sentinel)
- ⚡ 性能 (performance-oracle)
- 🏗️ 架构 (architecture-strategist)
- ✨ 代码质量 (code-simplicity-reviewer)

---

### `/workflows:compound` - 复利记录

记录刚解决的问题。

```
/workflows:compound [可选: 上下文]
```

**自动触发：**
- 说 "that worked"
- 说 "问题解决了"
- 说 "it's fixed"

---

## 自然语言触发

复利插件支持自然语言，无需记住命令：

| 你说的话 | 执行的命令 |
|---------|-----------|
| "开始工作吧" | `/开工` |
| "Let's go" | `/开工` |
| "下班了" | `/收工` |
| "今天就到这里" | `/收工` |
| "修一个bug" | `/修复bug` |
| "需求变了" | `/变更` |
| "记一下" | `/记录` |
| "有个紧急任务" | `/暂停` |
| "继续之前的任务" | `/恢复` |
| "生成周报" | `/周报` |
| "看看效率" | `/效率报告` |

---

## 最佳实践

### 1. 每日工作节奏

```
早上 → /开工 (或 "开始工作吧")
         ↓
     执行任务 (自动增量提交)
         ↓
中途 → /暂停 (处理紧急事项)
         ↓
     /恢复 (继续之前的工作)
         ↓
下班 → /收工 (或 "下班了")
```

### 2. 每周回顾

```
周五 → /周报 (自动生成本周总结)
     → /效率报告 (查看复利效果)
```

### 3. 遇到问题时

```
发现Bug → /修复bug [描述]
需求变化 → /变更 [描述]
学到东西 → /记录 [知识点]
```

### 4. 复利积累原则

- **高分自动记录**：评分≥8的经验自动保存
- **中分收工确认**：评分5-7的在收工时确认
- **持续积累**：每天记录，效率指数增长

---

## 复利效应示例

```
第1周：完成10个任务，记录5个经验
第2周：遇到类似问题，2分钟查文档解决
第4周：新人入职，直接看文档上手
第N周：团队效率持续提升 📈
```

**复利公式：**
```
未来效率 = 当前能力 × (1 + 每次学习积累)^循环次数
```

---

## 命令速查表

| 命令 | 快捷语 | 用途 |
|------|-------|------|
| `/开工` | "开始工作吧" | 每日开始 |
| `/收工` | "下班了" | 日末收尾 |
| `/暂停` | "有紧急任务" | 保存进度 |
| `/恢复` | "继续之前的" | 恢复工作 |
| `/修复bug` | "修一个bug" | Bug修复 |
| `/变更` | "需求变了" | 处理变更 |
| `/记录` | "记一下" | 快速记录 |
| `/周报` | "写周报" | 生成周报 |
| `/效率报告` | "看看效率" | 效率分析 |

---

**提示**：养成习惯，让复利效应发挥最大作用 🚀
